def basic_calculator():n    print("基本計算機へようこそ！")n    print("利用可能な演算: +, -, *, /, **, %")n    print("終了するには 'quit' と入力してください")n    n    while True:n        try:n            expression = input("\n計算式を入力してください: ").strip()n            n            if expression.lower() == "quit":n                print("計算機を終了します")n                breakn            n            # 安全な計算（evalの代わりに）n            if "+" in expression:n                parts = expression.split("+")n                if len(parts) == 2:n                    result = float(parts[0]) + float(parts[1])n                else:n                    print("無効な式です")n                    continuen            elif "-" in expression:n                parts = expression.split("-")n                if len(parts) == 2:n                    result = float(parts[0]) - float(parts[1])n                else:n                    print("無効な式です")n                    continuen            elif "*" in expression:n                parts = expression.split("*")n                if len(parts) == 2:n                    result = float(parts[0]) * float(parts[1])n                else:n                    print("無効な式です")n                    continuen            elif "/" in expression:n                parts = expression.split("/")n                if len(parts) == 2:n                    if float(parts[1]) == 0:n                        print("0で割ることはできません")n                        continuen                    result = float(parts[0]) / float(parts[1])n                else:n                    print("無効な式です")n                    continuen            else:n                print("サポートされていない演算です")n                continuen            n            print(f"結果: {result}")n            n        except ValueError:n            print("無効な入力です")n        except Exception as e:n            print(f"エラーが発生しました: {e}")nnif __name__ == "__main__":n    basic_calculator()